{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FocusFlow</title>
    <link rel="stylesheet" href="{% static 'styles/default.css' %}">
</head>
<body>
  <header class="main-header">
    <div class="header-left">
      <a href="{% url 'home' %}" class="nav-link">Home</a>
    </div>
  
    <div class="header-center">
      <a href="{% url 'home' %}" class="site-title">FocusFlow</a>
    </div>
  
    <div class="header-right">
      {% if request.user.is_authenticated %}
      
        <form action="{% url 'logout' %}" method="post">
          {% csrf_token %}
          <button type="submit" class="nav-button">Log Out</button>
        </form>

        <a href="{% url 'user_settings' %}" class="nav-link">Settings</a>
        <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"
             alt="User" class="user-avatar">
      {% else %}
        <a href="{% url 'login' %}" class="nav-link">Sign In</a>
        <a href="{% url 'register' %}" class="nav-link">Sign Up</a>
      {% endif %}
    </div>
  </header>

    <main class="main-content">
        {% block content %}
        {% endblock %}
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 FocusFlow</p>
    </footer>

    <script>
        const mode = localStorage.getItem('mode') || 'light';
        document.body.classList.add(mode + '-mode');

        window.addEventListener('DOMContentLoaded', () => {
            const btn = document.getElementById('modeToggle');
            if (btn) {
                btn.textContent = mode === 'dark' ? 'â˜€ Light Mode' : 'ðŸŒ™ Dark Mode';
            }
        });

        function toggleMode() {
            const body = document.body;
            const currentMode = body.classList.contains('dark-mode') ? 'dark' : 'light';
            const newMode = currentMode === 'dark' ? 'light' : 'dark';

            body.classList.remove(currentMode + '-mode');
            body.classList.add(newMode + '-mode');
            localStorage.setItem('mode', newMode);

            const btn = document.getElementById('modeToggle');
            if (btn) {
                btn.textContent = newMode === 'dark' ? 'â˜€ Light Mode' : 'ðŸŒ™ Dark Mode';
            }
        }
    </script>
</body>
</html>
