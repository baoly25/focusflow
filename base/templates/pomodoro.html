{% extends 'base.html' %}
{% block content %}

<div style="max-width: 400px; margin: 60px auto; text-align: center;">
    <h2>Pomodoro Timer</h2>

    <div id="timer" style="font-size: 3rem; margin: 20px 0;">25:00</div>

    <button onclick="startTimer()">Start</button>
    <button onclick="resetTimer()">Reset</button>
</div>

<script>
  let time = 25 * 60;
  let timerInterval;

  function updateDisplay() {
    const minutes = String(Math.floor(time / 60)).padStart(2, '0');
    const seconds = String(time % 60).padStart(2, '0');
    document.getElementById('timer').textContent = `${minutes}:${seconds}`;
  }

  function startTimer() {
    if (timerInterval) return;  // prevent multiple intervals
    timerInterval = setInterval(() => {
      time--;
      updateDisplay();
      if (time <= 0) {
        clearInterval(timerInterval);
        alert("Time's up!");
      }
    }, 1000);
  }

  function resetTimer() {
    clearInterval(timerInterval);
    timerInterval = null;
    time = 25 * 60;
    updateDisplay();
  }

  updateDisplay();
</script>

{% endblock %}